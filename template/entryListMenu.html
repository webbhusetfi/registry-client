<div class="controls list-functions">
    <div class="functions">
        <div class="row functions">
            <div class="col-sm-10">
                <div class="row" ng-if="properties">
                    <div class="col-xs-6 col-md-4">
                        <select class="form-control" ng-model="params.propertyGroup">
                            <option ng-repeat="(key, value) in properties" value="{{ value.id }}">{{ value.name }}</option>
                        </select>
                    </div>
                </div>
                <div class="row" style="margin-bottom:1rem;">
                    <div class="col-xs-12" style="margin-top:1rem;">
                        <div ng-repeat="(key, value) in properties" ng-show="params.propertyGroup == value.id">
                            <div class="btn-group">
                                <button
                                    class="btn btn-xs btn-default"
                                    ng-class="{ 'btn-success' : params.withProperty.indexOf(value2.id) > -1, 'btn-danger' : params.withoutProperty.indexOf(value2.id) > -1 }"
                                    ng-click="checkProperty(value2.id);"
                                    ng-repeat="(key2, value2) in value.children">
                                    {{ value2.name }}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-2 text-right">
                <a
                    ng-show="!user.registry && (globalParams.get('user').role != 'USER' || (globalParams.get('user').role == 'USER' && params.type == 'MEMBER_PERSON'))"
                    class="btn btn-default"
                    xg-href="/entry/-1/edit"><i class="fa fa-pencil"></i> Skapa
                </a>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-4">
                <div class="btn-group">
                    <a
                        ng-repeat="(key, item) in types"
                        class="btn btn-default"
                        ng-class="{'active' : params.type == key }"
                        ng-click="setType(key)"
                        > {{ item }}
                    </a>
                </div>
            </div>
            <div class="col-xs-4">
                <div ng-show="foundCount.entrylist" class="fc text-center">
                    Visar {{ params.offset+1 }}-{{ params.offset+params.limit > foundCount.entrylist ? foundCount.entrylist : params.offset+params.limit }} av {{ foundCount.entrylist }}
                </div>
            </div>
            <div class="col-xs-4 text-right">
                <div class="btn-group">
                    <a
                        class="btn btn-default"
                        ng-class="{'btn-success' : params.additionals == 'address'}"
                        ng-click="setAdditionals('address');"
                        >Adress
                    </a>
                    <a
                        class="btn btn-default"
                        ng-class="{'btn-success' : params.additionals == 'contact'}"
                        ng-click="setAdditionals('contact');"
                        >Kontakt
                    </a>
                </div>
                
                <a class="btn btn-default"
                    ng-csv="doExport();"
                    filename="{{ types[params.type] | lowercase }}.csv"
                    csv-header="headers[params.type]"
                    uib-tooltip="Exportera {{ types[params.type] | lowercase }}"
                   >
                   <i class="fa fa-download"></i>
                </a>
            </div>
        </div>
    </div>
</div>